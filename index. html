import React, { useState, useEffect } from "react";
import { motion } from "framer-motion";
import { Button } from "@/components/ui/button";

export default function ValentinePage() {
  const [accepted, setAccepted] = useState(false);
  const [openLetter, setOpenLetter] = useState(false);

  useEffect(() => {
    if (accepted) {
      const audio = new Audio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");
      audio.loop = true;
      audio.volume = 0.3;
      audio.play();
    }
  }, [accepted]);

  return (
    <div className="min-h-screen bg-gradient-to-br from-pink-200 via-rose-200 to-red-300 flex flex-col items-center justify-center relative overflow-hidden">
      {/* Minimal Floating Hearts */}
      <motion.div
        className="absolute text-5xl"
        initial={{ y: 600, x: -100, opacity: 0 }}
        animate={{ y: -200, opacity: 1 }}
        transition={{ duration: 8, repeat: Infinity }}
      >
        â¤ï¸
      </motion.div>

      <motion.div
        className="absolute text-4xl"
        initial={{ y: 700, x: 200, opacity: 0 }}
        animate={{ y: -200, opacity: 1 }}
        transition={{ duration: 10, repeat: Infinity }}
      >
        ğŸ’–
      </motion.div>

      {!accepted ? (
        <motion.div
          initial={{ scale: 0 }}
          animate={{ scale: 1 }}
          className="bg-white/80 backdrop-blur-md p-10 rounded-2xl shadow-2xl text-center"
        >
          <h1 className="text-3xl font-bold mb-4 text-rose-600">
            Will You Be My Valentine?
          </h1>
          <p className="text-lg mb-6">From Pardha Saradhi â¤ï¸</p>
          <div className="flex gap-6 justify-center">
            <Button
              className="rounded-2xl px-6 py-2 text-lg"
              onClick={() => setAccepted(true)}
            >
              Yes ğŸ’•
            </Button>
            <Button
              variant="outline"
              className="rounded-2xl px-6 py-2 text-lg"
              onMouseEnter={(e) => {
                e.target.style.position = "absolute";
                e.target.style.top = Math.random() * 80 + "%";
                e.target.style.left = Math.random() * 80 + "%";
              }}
            >
              No ğŸ˜¢
            </Button>
          </div>
        </motion.div>
      ) : (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          className="text-center"
        >
          <h1 className="text-4xl font-bold text-white drop-shadow-lg mb-6">
            She Said YES! ğŸ’âœ¨
          </h1>

          {/* Fireworks */}
          <div className="absolute inset-0 pointer-events-none">
            <motion.div
              className="text-6xl"
              initial={{ scale: 0 }}
              animate={{ scale: [0, 1.5, 0] }}
              transition={{ duration: 2, repeat: Infinity }}
            >
              ğŸ†
            </motion.div>
          </div>

          <Button
            className="mt-4 rounded-2xl px-8 py-3 text-lg"
            onClick={() => setOpenLetter(true)}
          >
            Open Romantic Letter ğŸ’Œ
          </Button>

          {openLetter && (
            <motion.div
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              className="mt-6 bg-white p-8 rounded-2xl shadow-2xl max-w-md"
            >
              <h2 className="text-2xl font-semibold text-rose-600 mb-4">
                My Dearest Love â¤ï¸
              </h2>
              <p className="text-gray-700 leading-relaxed">
                From the moment you walked into my life, everything became
                brighter and more beautiful. Your smile is my sunshine, your
                laughter is my favorite melody, and your love is my greatest
                blessing. I promise to cherish you, support you, and love you
                endlessly. Forever yours, Pardha Saradhi ğŸ’–
              </p>
            </motion.div>
          )}
        </motion.div>
      )}

      {/* Rose Petals Floating */}
      {openLetter && (
        <motion.div
          className="absolute text-3xl"
          initial={{ y: -100, opacity: 0 }}
          animate={{ y: 800, opacity: 1 }}
          transition={{ duration: 6, repeat: Infinity }}
        >
          ğŸŒ¹
        </motion.div>
      )}
    </div>
  );
}
